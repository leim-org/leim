# 项目规则

## 开发规范
1. **代码风格**：严格遵循 Kotlin 官方编码规范
2. **架构模式**：使用 MVVM 架构模式，结合 Repository 模式
3. **数据库**：使用 Room 数据库进行本地数据存储
4. **网络通信**：使用 WebSocket 进行实时通信
5. **UI 设计**：使用 Material Design 3 样式进行界面设计

## 文件组织结构
```
app/src/main/java/cn/lemwood/leim/
├── data/
│   ├── database/        # 数据库相关
│   ├── repository/      # 数据仓库
│   └── websocket/       # WebSocket 客户端
├── ui/
│   ├── activities/      # Activity
│   ├── fragments/       # Fragment
│   ├── adapters/        # RecyclerView 适配器
│   └── viewmodels/      # ViewModel
├── utils/               # 工具类
├── services/            # 服务类
└── receivers/           # 广播接收器
```

## 开发约束
1. **不进行本地构建**：所有构建操作必须在 GitHub Actions 中完成
2. **简化实现**：当前阶段只实现基础框架，后端服务器正在开发中
3. **模拟数据**：使用模拟数据进行 UI 展示和功能测试
4. **权限管理**：合理申请和使用必要权限（相册、存储、通知、自启动）

## 功能模块
1. **消息模块**：首页展示对话列表
2. **联系人模块**：管理 Leim 号和群组
3. **设置模块**：账号设置和应用配置
4. **WebSocket 服务**：后台保持连接
5. **登录检测**：应用启动时检查登录状态

## 技术要求
1. **Markdown 支持**：消息内容支持 Markdown 格式
2. **实时通信**：基于 WebSocket 的即时消息
3. **数据持久化**：聊天记录和文件本地存储
4. **通知系统**：及时推送消息通知
5. **自启动**：支持开机自启动功能

## 质量保证
1. **代码审查**：确保代码质量和规范性
2. **错误处理**：完善的异常处理机制
3. **性能优化**：合理的内存和电量使用
4. **用户体验**：流畅的界面交互

## 版本控制
1. **Git 规范**：使用规范的提交信息格式
2. **分支管理**：合理的分支策略
3. **CI/CD**：自动化构建和部署流程

---

# 原始提示词
## apk信息
cn.lemwood.leim
名称leim
一个简单的实时通信app
## 技术栈
- Java/Kotlin
- websocket
- markdown(消息支持md格式
## 索要权限
- 相册
- 存储空间(保存聊天记录以及文件)
- 通知权限(通信app必备)
- 自启用
## 包含模块(和QQ的基本功能相似)
- 消息(首页/第一页)
- 联系人(leim号/leim群号/第二页)
- 设置(账号设置/app基础设置)
- 自启用的websocket客户端
- 应用启动时的账号登录检测
## 要求
- 请第一时间创建项目规则！
- 不要进行任何本地构建行为，需要推送至GitHub上进行构建！
- 不要写任务报告！
- 如果需要资源帮助请停止任务向用户提问！
- 目前只做简单的框架，后端服务器正在施工！